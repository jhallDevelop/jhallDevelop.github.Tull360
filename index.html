<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Tully360</title>
  <meta name="description" content="Border Express Virtual Tour">
  <link rel="shortcut icon" href="TemplateData/favicon.ico">
  <link rel="stylesheet" href="TemplateData/style.css">
</head>
<body>
  <!-- Iframe to contain the Unity content -->
  <iframe id="unity-iframe" style="width: 100%; height: 100%; border: none;"></iframe>
  
  <script>
    // Reference to the iframe
    var iframe = document.getElementById('unity-iframe');
    
    // Load Unity content into the iframe
    var iframeContent = `
      <div id="unity-container">
        <div id="unity-canvas-container">
          <canvas id="unity-canvas" style="width: 100%; height: 100%;"></canvas>
        </div>
        <div id="unity-loading-bar">
          <div id="unity-progress-bar-empty">
            <div id="unity-progress-bar-full"></div>
          </div>
        </div>
        <div id="unity-footer">
          <div id="unity-fullscreen-button" onclick="goFullscreen()"></div>
          <button id="entervr" value="Enter VR" disabled>VR</button>
          <div id="unity-build-title">Tully360</div>
        </div>
        <script>
          function goFullscreen() {
            var canvas = document.getElementById('unity-canvas');
            if (canvas.requestFullscreen) {
              canvas.requestFullscreen();
            } else if (canvas.webkitRequestFullscreen) {
              canvas.webkitRequestFullscreen(); // iOS Safari
            } else {
              alert("Fullscreen not supported on this device.");
            }
          }
        </script>
      </div>
    `;

    // Insert the Unity content into the iframe
    var iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
    iframeDoc.open();
    iframeDoc.write(iframeContent);
    iframeDoc.close();

    // Function to trigger fullscreen on the iframe itself
    function goFullscreenOnIframe() {
      if (iframe.requestFullscreen) {
        iframe.requestFullscreen(); // Fullscreen the iframe
      } else if (iframe.webkitRequestFullscreen) {
        iframe.webkitRequestFullscreen(); // iOS Safari
      } else if (iframe.msRequestFullscreen) {
        iframe.msRequestFullscreen(); // IE/Edge
      } else {
        alert("Fullscreen not supported in this browser.");
      }
    }

    // Add fullscreen functionality for the iframe
    document.getElementById('unity-fullscreen-button').onclick = goFullscreenOnIframe;
  </script>
</body>
</html>
